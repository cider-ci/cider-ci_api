<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Thomas Schank DrTom@Schank.ch" />
  <meta name="date" content="2014-10-07" />
  <title>Cider-CI API Documentation</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
</head>
<body>
    <div class="navbar navbar-static-top">
    <div class="navbar-inner">
      <div class="container">
        <span class="doc-title">Cider-CI API Documentation</span>
        <ul class="nav pull-right doc-info">
                    <li><p class="navbar-text">Thomas Schank <script type="text/javascript">
<!--
h='&#x53;&#x63;&#104;&#x61;&#110;&#x6b;&#46;&#x63;&#104;';a='&#64;';n='&#68;&#114;&#84;&#x6f;&#x6d;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#68;&#114;&#84;&#x6f;&#x6d;&#32;&#x61;&#116;&#32;&#x53;&#x63;&#104;&#x61;&#110;&#x6b;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#104;</noscript></p></li>
                              <li><p class="navbar-text">2014-10-07</p></li>
                  </ul>
      </div>
    </div>
  </div>
    <div class="container">
    <div class="row">
            <div id="TOC" class="span3">
        <div class="well toc">
        <ul>
          <li class="nav-header">Table of Contents</li>
        </ul>
        <ul>
        <li><a href="#cider-ci-api-documentation">Cider-CI API Documentation</a><ul>
        <li><a href="#authentication">Authentication</a><ul>
        <li><a href="#session-cookie">Session-Cookie</a></li>
        <li><a href="#basic-auth">Basic-Auth</a></li>
        </ul></li>
        <li><a href="#json-data-resources">JSON-Data-Resources</a><ul>
        <li><a href="#uploading">Uploading</a></li>
        <li><a href="#execution">Execution</a><ul>
        <li><a href="#get-executionid">GET <code>/execution/:id</code></a></li>
        </ul></li>
        <li><a href="#execution-stats">Execution-Stats</a><ul>
        <li><a href="#get-executionidstats">GET <code>/execution/:id/stats</code></a></li>
        </ul></li>
        <li><a href="#executions">Executions</a><ul>
        <li><a href="#get-executions">GET <code>/executions</code></a></li>
        </ul></li>
        <li><a href="#root">Root</a><ul>
        <li><a href="#get">GET <code>/</code></a></li>
        </ul></li>
        <li><a href="#task">Task</a><ul>
        <li><a href="#get-taskid">GET <code>/task/:id</code></a></li>
        </ul></li>
        <li><a href="#tasks">Tasks</a><ul>
        <li><a href="#get-executionexecution_idtasks">GET <code>/execution/:execution_id/tasks</code></a></li>
        </ul></li>
        <li><a href="#tree-attachment">Tree-Attachment</a><ul>
        <li><a href="#get-tree-attachment">GET <code>/tree-attachment*</code></a></li>
        </ul></li>
        <li><a href="#tree-attachments">Tree-Attachments</a><ul>
        <li><a href="#get-executionexecution_idattachments">GET <code>/execution/:execution_id/attachments</code></a></li>
        </ul></li>
        <li><a href="#trial-attachment">Trial-Attachment</a><ul>
        <li><a href="#get-trial-attachment">GET <code>/trial-attachment*</code></a></li>
        </ul></li>
        <li><a href="#trial-attachments">Trial-Attachments</a><ul>
        <li><a href="#get-trialtrial_idtrial-attachments">GET <code>/trial/:trial_id/trial-attachments</code></a></li>
        </ul></li>
        <li><a href="#trial">Trial</a><ul>
        <li><a href="#get-trialid">GET <code>/trial/:id</code></a></li>
        </ul></li>
        <li><a href="#trials">Trials</a><ul>
        <li><a href="#get-tasktask_idtrials">GET <code>/task/:task_id/trials</code></a></li>
        </ul></li>
        </ul></li>
        <li><a href="#storage-resources">Storage-Resources</a><ul>
        <li><a href="#general-properties">General Properties</a><ul>
        <li><a href="#uploading-1">Uploading</a></li>
        <li><a href="#retention-time">Retention Time</a></li>
        </ul></li>
        <li><a href="#trial-attachments-1">Trial-Attachments</a><ul>
        <li><a href="#get-tree-attachmentstrial_id">GET <code>/tree-attachments/:trial_id/*</code></a></li>
        <li><a href="#put-tree-attachmentstrial_id">PUT <code>/tree-attachments/:trial_id/*</code></a></li>
        <li><a href="#delete-tree-attachmentstrial_id">DELETE <code>/tree-attachments/:trial_id/*</code></a></li>
        </ul></li>
        <li><a href="#tree-attachments-1">Tree-Attachments</a><ul>
        <li><a href="#get-tree-attachmentstree_id">GET <code>/tree-attachments/:tree_id/*</code></a></li>
        <li><a href="#put-tree-attachmentstree_id">PUT <code>/tree-attachments/:tree_id/*</code></a></li>
        <li><a href="#delete-tree-attachmentstree_id">DELETE <code>/tree-attachments/:tree_id/*</code></a></li>
        </ul></li>
        </ul></li>
        </ul></li>
        </ul>
        </div>
      </div>
            <div class="span9">
            <h1 id="cider-ci-api-documentation">Cider-CI API Documentation</h1>
<p>Visit the <a href="https://github.com/cider-ci/cider-ci">Cider-CI Project</a> for more information on Cider-CI.</p>
<p>The <a href="https://rawgit.com/cider-ci/cider-ci/master/doc/entities.svg">entities diagram</a> is helpful to understand relations between resources.</p>
<h2 id="authentication">Authentication</h2>
<h3 id="session-cookie">Session-Cookie</h3>
<p>The API accepts the <code>cider-ci_services-session</code> cookie set on sing-in from the browser interfaces.</p>
<h3 id="basic-auth">Basic-Auth</h3>
<p>If no session cookie was found (or validation of the cookie failed) <em>HTTP Basic authentication</em> is used with the same user and password as used in the browser interface.</p>
<h2 id="json-data-resources">JSON-Data-Resources</h2>
<p>All of the resources in this section are prefixed with <code>/cider-ci/api/v1</code>. This prefix is omitted for brevity in the following.</p>
<p>All <code>GET</code> requests return a <code>content-type</code> header of <code>application/hal+json</code>.</p>
<h3 id="uploading">Uploading</h3>
<h3 id="execution">Execution</h3>
<h4 id="get-executionid">GET <code>/execution/:id</code></h4>
<p>Returns the properties of the execution.</p>
<h3 id="execution-stats">Execution-Stats</h3>
<h4 id="get-executionidstats">GET <code>/execution/:id/stats</code></h4>
<p>Returns the aggregated count of the number of tasks belonging to an execution with respect to their state.</p>
<h3 id="executions">Executions</h3>
<h4 id="get-executions">GET <code>/executions</code></h4>
<p>Returns a list of links each pointing to an execution. Order is descending by the <code>created_at</code> time-stamp.</p>
<h5 id="query-parameters">Query Parameters</h5>
<h6 id="branch-name">branch-name</h6>
<p>Filters executions within branches with the name equal to the value of the parameter.</p>
<p>Query string example: <code>?repository-name=Madek&amp;branch-heads-only&amp;branch-name=next</code></p>
<h6 id="branch-heads-only">branch-heads-only</h6>
<p>Filters only executions wich are on a current head of a branch. Effective if and only if the key is present.</p>
<p>Query string example: <code>?repository-name=Madek&amp;branch-heads-only&amp;branch-name=next</code></p>
<h6 id="page">page</h6>
<p>Used for pagination. Do not set this value. Use the <code>next</code> and <code>previous</code> links to iterate over paginated results.</p>
<h6 id="repository-name">repository-name</h6>
<p>Filters executions within repositories with the name equal to the value of the parameter.</p>
<p>Query string example: <code>?repository-name=Madek&amp;branch-heads-only&amp;branch-name=next</code></p>
<h6 id="state">state</h6>
<p>Filters executions with state equal to the value of the parameter.</p>
<p>Query string example: <code>?branch-name=master&amp;repository-name=leihs&amp;state=success</code></p>
<h3 id="root">Root</h3>
<h4 id="get">GET <code>/</code></h4>
<p>The entry-point.</p>
<h3 id="task">Task</h3>
<h4 id="get-taskid">GET <code>/task/:id</code></h4>
<p>Returns the properties of the task.</p>
<h3 id="tasks">Tasks</h3>
<h4 id="get-executionexecution_idtasks">GET <code>/execution/:execution_id/tasks</code></h4>
<p>Returns a list of links each pointing to a task which belongs to execution with the id <code>:execution_id</code>. Order is ascending with respect to the <code>name</code> property.</p>
<h5 id="query-parameters-1">Query Parameters</h5>
<h6 id="state-1">state</h6>
<p>Filters tasks with state equal to the value of the parameter.</p>
<p>Query string example: <code>?page=0&amp;state=failed</code></p>
<h3 id="tree-attachment">Tree-Attachment</h3>
<h4 id="get-tree-attachment">GET <code>/tree-attachment*</code></h4>
<p>Returns the properties of a tree-attachment which path equals the postfix denoted by the <code>*</code> in the route above.</p>
<p>This does not return the data-stream of the attachment itself. A link to the latter is included in the <code>_links</code> property.</p>
<h3 id="tree-attachments">Tree-Attachments</h3>
<h4 id="get-executionexecution_idattachments">GET <code>/execution/:execution_id/attachments</code></h4>
<p>Returns a list of links each pointing to a Tree-Attachment which belongs to the execution with the id <code>:execution_id</code>. Order is ascending with respect to the <code>path</code> property.</p>
<h3 id="trial-attachment">Trial-Attachment</h3>
<h4 id="get-trial-attachment">GET <code>/trial-attachment*</code></h4>
<p>Returns the properties of a trial-attachment which path equals the postfix denoted by the <code>*</code> in the route above.</p>
<p>This does not return the data-stream of the attachment itself (no matter what the path extension might suggest). A link to the latter is included in the <code>_links</code> property.</p>
<h3 id="trial-attachments">Trial-Attachments</h3>
<h4 id="get-trialtrial_idtrial-attachments">GET <code>/trial/:trial_id/trial-attachments</code></h4>
<p>Returns a list of links each pointing to a trial-attachment which belongs to the trial with the id <code>:trial_id</code>. Order is ascending with respect to the <code>path</code> property.</p>
<h3 id="trial">Trial</h3>
<h4 id="get-trialid">GET <code>/trial/:id</code></h4>
<p>Returns the properties of the trial with the id <code>:id</code>.</p>
<h3 id="trials">Trials</h3>
<h4 id="get-tasktask_idtrials">GET <code>/task/:task_id/trials</code></h4>
<p>Returns a list of links each pointing to a trial which belongs to the task with the id <code>:task_id</code>. Order is descending with respect to the <code>updated_at</code> property.</p>
<h5 id="query-parameters-2">Query Parameters</h5>
<h6 id="state-2">state</h6>
<p>Filters trials with state equal to the value of the parameter.</p>
<p>Query string example: <code>?page=0&amp;state=failed</code></p>
<h2 id="storage-resources">Storage-Resources</h2>
<p>All of the resources in this section are prefixed with <code>/cider-ci/storage</code>. This prefix is omitted for brevity in the following.</p>
<h3 id="general-properties">General Properties</h3>
<h4 id="uploading-1">Uploading</h4>
<p>Uploading is preformed via http <code>PUT</code>. A <code>PUT</code> request performed on an existing path will not replace the existing resource but result with a <code>409 Conflict</code> error .</p>
<p>Every storage artifact has an associated content-type. This content-type is set from the content-type header of the <code>PUT</code> request and therefore should be set properly. If not specified the content-type <code>application/octet-stream</code> will be used.</p>
<h4 id="retention-time">Retention Time</h4>
<p>Uploaded artifacts will be automatically deleted after a retention time has been reached.</p>
<h3 id="trial-attachments-1">Trial-Attachments</h3>
<p>Trial-Attachments will be listed in the user-interface with the matching trial. The default retention time is 10 days.</p>
<p>The <code>:trial_id</code> should be an existing id of a trial. This is however not enforced.</p>
<p>The <code>*</code> postfix can be an arbitrary url-path in accordance with the http path specification, e.g. <code>screenshots/image01.png</code>. Query parameters will be ignored.</p>
<h4 id="get-tree-attachmentstrial_id">GET <code>/tree-attachments/:trial_id/*</code></h4>
<h4 id="put-tree-attachmentstrial_id">PUT <code>/tree-attachments/:trial_id/*</code></h4>
<h4 id="delete-tree-attachmentstrial_id">DELETE <code>/tree-attachments/:trial_id/*</code></h4>
<h3 id="tree-attachments-1">Tree-Attachments</h3>
<p>Tree-Attachments will be listed in the user-interface with the matching execution. The default retention time is 90 days.</p>
<p>Similar restrictions as with the Trial-Attachments apply.</p>
<h4 id="get-tree-attachmentstree_id">GET <code>/tree-attachments/:tree_id/*</code></h4>
<h4 id="put-tree-attachmentstree_id">PUT <code>/tree-attachments/:tree_id/*</code></h4>
<h4 id="delete-tree-attachmentstree_id">DELETE <code>/tree-attachments/:tree_id/*</code></h4>
            </div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
</body>
</html>
